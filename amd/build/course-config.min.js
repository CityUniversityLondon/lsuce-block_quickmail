define(["jquery","core/modal_factory","core/modal_events","core/str"],function(a,b,c,d){return{init:function(e){window.onbeforeunload=null;var f=a("#id_reset");b.create({type:b.types.CONFIRM,title:d.get_string("restore_default_modal_title","block_quickmail"),body:"<p>"+d.get_string("restore_default_confirm_message","block_quickmail")+"</p>"},f).done(function(b){b.getRoot().on(c.yes,function(b){b.preventDefault(),a('input[name="restore_flag"]').val("1"),a("#mform-course-config").submit()})})}}});