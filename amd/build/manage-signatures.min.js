define(["jquery","core/modal_factory","core/modal_events"],function(a,b,c){return{init:function(d){window.onbeforeunload=null;var e=a("#id_select_signature_id").val();a("#id_select_signature_id").change(function(b){b.preventDefault(),e!==this.value&&(a("label[for=id_select_signature_id] img.spinner-img").css("display","inline-block"),window.location.href="signatures.php?id="+this.value+"&courseid="+d)});var f=a("#id_delete");b.create({type:b.types.CONFIRM,title:"Delete Signature",body:"<p>This will permanently delete your signature, are you sure?</p>"},f).done(function(b){b.getRoot().on(c.yes,function(b){b.preventDefault(),a('input[name="delete_signature_flag"]').val("1"),a("#mform-manage-signatures").submit()})})}}});